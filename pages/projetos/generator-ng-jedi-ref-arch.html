<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">generator-ng-jedi-ref-arch</h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="col-lg-12">


        <p>O objetivo deste gerador é trazer maior facilidade na criação de projetos AngularJs, seguindo a <a href="http://ng-jedi.github.io/ref-arch">Arquitetura de Referência AngularJs</a>.</p>

        <p>O gerador é composto por um rotina de geração principal, que gera toda estruturação v0 de um projeto, e sub geradores para criação de controllers, modais, módulos e funcionalidades.</p>

        <p>A rotina de geração principal é uma composição de vários recursos Stack JS de mercado e alguns componentes criados neste projeto Jedi Cube Components. Segue relação dos componentes que compõe a solução:</p>

        <ul>
            <li><a href="https://github.com/ng-jedi/breadcrumb">ng-jedi-breadcrumb</a>
            </li>
            <li><a href="https://github.com/ng-jedi/dialogs">ng-jedi-dialogs</a>
            </li>
            <li><a href="https://github.com/ng-jedi/factory">ng-jedi-factory</a>
            </li>
            <li><a href="https://github.com/ng-jedi/i18n">ng-jedi-i18n</a>
            </li>
            <li><a href="https://github.com/ng-jedi/layout">ng-jedi-layout</a>
            </li>
            <li><a href="https://github.com/ng-jedi/loading">ng-jedi-loading</a>
            </li>
            <li><a href="https://github.com/ng-jedi/utilities">ng-jedi-utilities</a>
            </li>
            <li><a href="https://github.com/fabioviana/angular-authService">angular-authService</a>: componente para controle de autenticação e autorização via token</li>
            <li><a href="https://github.com/angular-ui/bootstrap-bower">angular-bootstrap</a>: componentes bootstrap angular</li>
            <li><a href="https://github.com/mateusmcg/angular-file-upload-interceptor">angular-file-upload-interceptor</a>: componente para realizar upload de arquivos via angular</li>
            <li><a href="https://github.com/lgalfaso/angular-dynamic-locale">angular-dynamic-locale</a>: componente para carregamento do ngLocale dinamicamente, após seleção da linguagem, utilizado diretamente pelo componente ng-jedi-i18n.</li>
            <li><a href="https://github.com/fabioviana/ngMaskAlias">angular-ngMask</a>: componente para aplicar máscaras em campos input</li>
            <li><a href="https://github.com/mateusmcg/angular-table-restful">angular-table</a>: componente de grid com paginação e ordenação via api rest.</li>
            <li><a href="https://github.com/mateusmcg/angularAMD-multiscript">angularAMD</a>: componente para integração entre angular e requirejs, para correto carregamento.</li>
            <li><a href="https://github.com/VictorQueiroz/ngCurrencyMask">ng-currency-mask</a>: componente para aplicar máscara de monetário em campos input.</li>
            <li><a href="https://github.com/twbs/bootstrap">bootstrap</a>
            </li>
            <li><a href="https://github.com/Eonasdan/bootstrap-datetimepicker">bootstrap-datetimepicker</a>: componente para datepicker</li>
            <li><a href="https://github.com/moment/moment">moment</a>: componente para manipulação de datas</li>
            <li><a href="https://github.com/lodash/lodash">lodash</a>: utilitári para manipulação de arrays</li>
            <li><a href="http://requirejs.org/">requirejs</a>: componente para carregamento tardio dos javascripts da aplicação.</li>
            <li><a href="https://github.com/millermedeiros/requirejs-plugins">requirejs-plugins</a>: plugins do requirejs para carregar script em formato json.</li>
        </ul>

        <p>Além da integração destes componentes acima, o gerador ainda cria toda a configuração do package, bower, grunt e mocks.</p>

        <p>As rotinas grunt são destinada para execução de build do projeto gerado, com opções de build para ambiente "develop", "release" e "master". Segue abaixo as tasks que cada opção de build realiza:</p>

        <ul>
            <li>
                <p><strong>develop</strong>: responsável por gerar a versão da aplicação para execução local, copiando todos os componentes baixados pelo bower e configurados no arquivo assetsfiles.json, gerando o main.js para esta versão de build e gerando o arquivo de ambiente para cada módulo do projeto (app/MODULO/env/MODULO-env.json), deixando a aplicação pronta para inicialização local.</p>
            </li>
            <li>
                <p><strong>release</strong>: responsável por gerar a versão da aplicação para execução em ambiente de testes, realizando os mesmos passos do ambiente develop, porém, copiando todo o projeto para a pasta build/ e gerando hash para cache bust de cada arquivo.</p>
            </li>
            <li>
                <p><strong>master</strong>: responsável por gerar a versão da aplicação para execução em ambiente de produção, realizando os mesmos passos do ambiente release, porém, minificando os js e css da pasta build/.</p>
            </li>
        </ul>

        <p>Para ambientes onde é utilizado estratégia de cache bust, o processo de build gera o arquivo version.json com o mapeamento dos arquivos originais e as versões atuais em cache, para carregamento de scripts dinâmicos, em tempo de execução, através do mecanismo factory.getFileVersion do componente <a href="https://github.com/ng-jedi/factory">ng-jedi-factory</a>.</p>

        <p>Cada módulo, por padrão, possui um arquivo json template (app/MODULO/env/MODULO-env.tpl.json) com variáveis de ambiente e uma versão deste arquivo para cada opção de build (app/MODULO/env/MODULO-env.AMBIENTE.json), durante execução da build o template é parseado com o conteúdo do json do ambiente selecionado (app/MODULO/env/MODULO-env.json).</p>

        <p>Para adicionar uma nova dependencia ao projeto basta seguir os seguintes passos:</p>

        <ol>
            <li>bower install</li>
        </ol>

        <div class="highlight highlight-bash"><pre>bower install [componente] --save</pre>
        </div>

        <ol>
            <li>
                <p>assetsfiles.json</p>

                <ul>
                    <li>Inclusão dos arquivos para cópia a partir da pasta bower_components/ para assets/</li>
                </ul>

                <div class="highlight highlight-json"><pre>{
<span class="pl-s"><span class="pl-pds">"</span>files<span class="pl-pds">"</span></span>: [
    {
        <span class="pl-s"><span class="pl-pds">"</span>src<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>bower_components//[componente]//[arquivo]<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>dest<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>assets//[tipo: css|libs|img]//[componente]//[arquivo]<span class="pl-pds">"</span></span>
    }
    <span class="pl-ii">...</span>
]}</pre>
                </div>
            </li>
            <li>
                <p>main.tpl.js</p>

                <ul>
                    <li>Caso seja algum javascript, é necessário adiciona-lo na configuração base do requirejs, editando o arquivo main.tpl.js.</li>
                    <li>Deve-se criar um alias na sessão "paths" que aponte para o arquivo na pasta assets e na sessão shim deve ser adicionado a ordem em que o arquivo deverá ser carregado pela aplicação (quais suas dependências).</li>
                </ul>

                <div class="highlight highlight-json"><pre>{
    <span class="pl-ii">paths</span>: {
        <span class="pl-s"><span class="pl-pds">"</span>[componente]<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>assets//[tipo: css|libs|img]//[componente]//[arquivo].js<span class="pl-pds">"</span></span>
        <span class="pl-ii">...</span>
    },
    <span class="pl-ii">shim</span>: {
        <span class="pl-s"><span class="pl-pds">"</span>[componente]<span class="pl-pds">"</span></span>: [<span class="pl-s"><span class="pl-pds">"</span>angular<span class="pl-pds">"</span></span>]
        <span class="pl-ii">...</span>
    }
}</pre>
                </div>
            </li>
        </ol>

        <p>Para utilizar o gerador, siga os passos:</p>

        <ol>
            <li>
                <p>Instalação do gerador</p>

                <div class="highlight highlight-bash"><pre>npm install -g yo
npm install -g generator-ng-jedi-ref-arch</pre>
                </div>
            </li>
            <li>
                <p>Execução do gerador principal</p>

                <div class="highlight highlight-bash"><pre>yo ng-jedi-ref-arch</pre>
                </div>

                <ul>
                    <li>informe o nome do projeto, título, nome do módulo padrão, linguagem padrão e relação de componentes que deseja gerar.</li>
                    <li>ao final será criado um projeto v0 na raiz onde o comando for executado, já pronto para execução.</li>
                    <li>Para executar a aplicação utilizar o comando:</li>
                </ul>

                <div class="highlight highlight-bash"><pre>npm run start</pre>
                </div>
            </li>
            <li>
                <p>Execução do gerador de controller</p>

                <div class="highlight highlight-bash"><pre>yo ng-jedi-ref-arch:controller</pre>
                </div>

                <ul>
                    <li>informe o título da tela, nome do módulo, nome do submódulo e nome do controlador.</li>
                    <li>ao final será criado um controller e uma tela no caminho: app//[nome do módulo]//[nome do submódulo]//[nome do controlador]</li>
                </ul>
            </li>
            <li>
                <p>Execução do gerador de modal</p>

                <div class="highlight highlight-bash"><pre>yo ng-jedi-ref-arch:modal</pre>
                </div>

                <ul>
                    <li>informe o título da modal, nome do módulo, nome do submódulo e nome do controlador.</li>
                    <li>ao final será criado um controller e uma tela no caminho: app//[nome do módulo]//[nome do submódulo]//[nome do controlador]</li>
                </ul>
            </li>
            <li>
                <p>Execução do gerador de módulo</p>

                <div class="highlight highlight-bash"><pre>yo ng-jedi-ref-arch:module</pre>
                </div>

                <ul>
                    <li>informe o nome do módulo, linguagem padrão e se deve utilizar i18n</li>
                    <li>ao final será criado um módulo com estrutura base no caminho: app//[nome do módulo]</li>
                </ul>
            </li>
            <li>
                <p>Execução do gerador de feature</p>

                <div class="highlight highlight-bash"><pre>yo ng-jedi-ref-arch:feature</pre>
                </div>

                <ul>
                    <li>Informe o caminho do arquivo de config.</li>
                    <li>Exemplo genérico do arquivo de config:</li>
                </ul>

                <div class="highlight highlight-json"><pre>{
      <span class="pl-s"><span class="pl-pds">"</span>moduleName<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;nome do módulo&gt;<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;nome do sub módulo (opcional)&gt;<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>featureName<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;nome da funcionalidade&gt;<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>featureTitle<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>pt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;título da funcionalidade em português&gt;<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>en<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;título da funcionalidade em inglês&gt;<span class="pl-pds">"</span></span>
      },
      <span class="pl-s"><span class="pl-pds">"</span>APIAddress<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;Endereço da API&gt;<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>feature<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;tipo da feature:  crud|modal&gt;<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>filters<span class="pl-pds">"</span></span>: [
          {
            <span class="pl-s"><span class="pl-pds">"</span>fieldName<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;Nome do campo&gt;<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>fieldLabel<span class="pl-pds">"</span></span>: {
              <span class="pl-s"><span class="pl-pds">"</span>pt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;nome do campo em português&gt;<span class="pl-pds">"</span></span>,
              <span class="pl-s"><span class="pl-pds">"</span>en<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;nome do campo em inglês&gt;<span class="pl-pds">"</span></span>
            },
                    <span class="pl-s"><span class="pl-pds">"</span>fieldType<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;text|multi-select|single-select|text-multi-value|date|date-time|password|cpf|cnpj|tel|cep|int|currency|boolean &gt;<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>fieldHint<span class="pl-pds">"</span></span>: {
              <span class="pl-s"><span class="pl-pds">"</span>pt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;hint para o campo em português (opcional)&gt;<span class="pl-pds">"</span></span>,
              <span class="pl-s"><span class="pl-pds">"</span>en<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;hint para o campo em inglês (opcional)&gt;<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>requiredField<span class="pl-pds">"</span></span>: <span class="pl-c1">true</span>,
            <span class="pl-s"><span class="pl-pds">"</span>messageRequired<span class="pl-pds">"</span></span>: {
                      <span class="pl-s"><span class="pl-pds">"</span>pt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;mensagem para o campo obrigatório em português (obrigatório se required:true)&gt;<span class="pl-pds">"</span></span>,
                      <span class="pl-s"><span class="pl-pds">"</span>en<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;mensagem para o campo obrigatório em inglês (obrigatório se required:true)&gt;<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>maxCharacter<span class="pl-pds">"</span></span>: <span class="pl-c1">10</span>,
            <span class="pl-s"><span class="pl-pds">"</span>minCharacter<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>
          }
        ],
        <span class="pl-s"><span class="pl-pds">"</span>results<span class="pl-pds">"</span></span>: [
          {
            <span class="pl-s"><span class="pl-pds">"</span>fieldName<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;Nome do campo&gt;<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>fieldLabel<span class="pl-pds">"</span></span>: {
              <span class="pl-s"><span class="pl-pds">"</span>pt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;nome do campo em português&gt;<span class="pl-pds">"</span></span>,
              <span class="pl-s"><span class="pl-pds">"</span>en<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;nome do campo em inglês&gt;<span class="pl-pds">"</span></span>
            }
          }
        ],
        <span class="pl-s"><span class="pl-pds">"</span>domains<span class="pl-pds">"</span></span>: [
          {
            <span class="pl-s"><span class="pl-pds">"</span>fieldName<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;Nome do campo&gt;<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>fieldLabel<span class="pl-pds">"</span></span>: {
              <span class="pl-s"><span class="pl-pds">"</span>pt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;nome do campo em português&gt;<span class="pl-pds">"</span></span>,
              <span class="pl-s"><span class="pl-pds">"</span>en<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;nome do campo em inglês&gt;<span class="pl-pds">"</span></span>
            },
                    <span class="pl-s"><span class="pl-pds">"</span>fieldType<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;text|multi-select|single-select|text-multi-value|date|date-time|password|cpf|cnpj|tel|cep|int|currency|boolean &gt;<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>fieldHint<span class="pl-pds">"</span></span>: {
              <span class="pl-s"><span class="pl-pds">"</span>pt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;hint para o campo em português (opcional)&gt;<span class="pl-pds">"</span></span>,
              <span class="pl-s"><span class="pl-pds">"</span>en<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;hint para o campo em inglês (opcional)&gt;<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>requiredField<span class="pl-pds">"</span></span>: <span class="pl-c1">true</span>,
            <span class="pl-s"><span class="pl-pds">"</span>messageRequired<span class="pl-pds">"</span></span>: {
              <span class="pl-s"><span class="pl-pds">"</span>pt<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;mensagem para o campo obrigatório em português (obrigatório se required:true)&gt;<span class="pl-pds">"</span></span>,
              <span class="pl-s"><span class="pl-pds">"</span>en<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;mensagem para o campo obrigatório em inglês (obrigatório se required:true)&gt;<span class="pl-pds">"</span></span>
            },
            <span class="pl-s"><span class="pl-pds">"</span>maxCharacter<span class="pl-pds">"</span></span>: <span class="pl-c1">10</span>,
            <span class="pl-s"><span class="pl-pds">"</span>minCharacter<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
            <span class="pl-s"><span class="pl-pds">"</span>fieldEditableFor<span class="pl-pds">"</span></span>: [
              <span class="pl-s"><span class="pl-pds">"</span>create<span class="pl-pds">"</span></span>,
              <span class="pl-s"><span class="pl-pds">"</span>update<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s"><span class="pl-pds">"</span>visibleToTheUser<span class="pl-pds">"</span></span>: <span class="pl-c1">true</span>,
            <span class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span>: <span class="pl-c1">false</span>
          }
        ]
      }
}       </pre>
                </div>
            </li>
        </ol>

        <p>Aprecie o <a href="https://github.com/ng-jedi/ref-arch/tree/master/demo">demo</a> criado utilizando este gerador.</p>

        <h2><a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

        <p>MIT</p>


    </div>
</div>
<!-- /.container-fluid -->